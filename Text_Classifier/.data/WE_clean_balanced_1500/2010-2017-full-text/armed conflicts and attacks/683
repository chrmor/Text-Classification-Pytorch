Gunfire in Tripoli amid rumours of Gaddafi's forces retaking rebel positions
Counterattack by forces loyal to Muammar Gaddafi appears to be under way, with heavy fighting in Ras Lanuf and Zawiyah
The Libyan capital erupted in gunfire early on Sunday morning amid wild rumours that government troops had recaptured a series of positions including the rebel-controlled town of Zawiyah, 30 miles from Tripoli.
The first salvos of gunfire, which began at 5.30am, sounded far more aggressive in intent than the widespread celebratory fire and honking of car horns that later overtook it.
But government spokesman Mussa Ibrahim denied any fighting was under way in Tripoli, saying the gunfire was staged to celebrate the army's recapture of several cities from rebel forces.
The celebrations came as a long-expected counter-attack by government forces appeared to be under way, with heavy fighting reported around the town of Ras Lanuf, following a similar government assault on the town of Zawiyah on Saturday.
"These are celebrations because government forces have taken control of all areas to Benghazi and are in the process of taking control of Benghazi," Ibrahim said, referring to Libya's rebel-controlled second largest city, situated in the far east.
"I assure you â€¦ there is no fighting going on in Tripoli. Everything is safe. Tripoli is 100% under control. What you are hearing is celebratory fireworks. People are in the streets, dancing in the square," said Ibrahim, adding, however: "I would like to advise not to go there for your safety."
Deputy foreign minister Khaled Kaim had told reporters late on Saturday that Zawiyah was "quiet and peaceful".
"We hope by tomorrow morning life will be back to normal."
Another spokesman, Abdul Majid Al Dursi, later denied that the towns of Tobruk, Brega, and Misrata had fallen to the government as claimed, although he said the government was close to retaking Misrata, where government and opposition forces have been fighting for the airbase.
Opposition figures contacted in towns including Ras Lanuf and Misrata claimed that despite government claims to have taken the towns, the situation there was calm.
However it was impossible to reach residents in Zawiyah, where fighting for the city centre was still continuing at 8pm on Saturday.
The Guardian, which managed to drive within a few kilometres of Zawiyah on Saturday before being detained with other journalists, could hear the sound of long exchanges and saw fresh troops entering the city at midday in a column of Toyota Tundra pick-up trucks.
Then, government soldiers reported that the city centre was still in rebel hands despite a huge buildup of armour in the countryside around Zawiyah.
Later on Sunday morning, witnesses reported that rebel forces fell back to Ras Lanuf from positions further west, firing at a military helicopter overhead as they retreated.
According to a witness contacted by Reuters, dozens of rebel vehicles armed with heavy machine guns arrived in Ras Lanuf from the west, where rebel fighters had earlier reported an attack by Gaddafi loyalists in the town of Bin Jawad. With Tripoli noisy with gunfire on Saturday morning, around 3,000 people gathered in the city centre of Green Square, many of them with weapons to celebrate the "victories".
Most who would admit to their professions appeared to be police, civil servants, or military.
Among those seen carrying arms was a young boy, dressed in a Teenage Mutant Ninja Turtle outfit, whose father had given a handgun to him and his brother, also less than 10, who was sitting on a car roof cradling an AKM assault rifle.
One man who spoke to journalists and said that he worked for the government, said: "We have beaten all of the enemy. You have to know we support our leader. Everyone here is for Muammar Gaddafi."
He would not give his name or profession but was later seen driving across the square in a white four-wheel drive with a uniformed man sitting by his side.
Another young man who said he was a student claimed that they had beaten "al-Qaida" in Zawiyah, but when challenged by reporters who said they had seen no Islamists in the town, claimed that al-Qaida was directing the operations in the background "by mobile phone".
State television report provided no details of the "victories".
As of Saturday night, Libyan rebels were advancing from the east on Gaddafi's hometown, Sirte, around 300 miles from Tripoli. Before the state television report that Zawiyah had changed hands, the rebels said they were bracing for another tank and artillery attack by government forces on Sunday.
What is clear, however, is that a large military deployment appears to be under way in Tripoli and the surrounding areas, with ever more tanks visible both inside the city and in the countryside and more missile launchers seen on the roads. One column of BM-21 Grad launchers seen by the Guardian on Saturday included 11 vehicles.
If the regime is deploying for an assault on the advancing rebels, it might explain Sunday's city-wide demonstrations by supporters, designed both to spread confusion in opposition ranks and rally morale in the city.