Libya: Fierce battle for Zawiyah amid claims Gaddafi's tanks fired on residential areas
Gaddafi's forces were driven out of central Zawiyah on Saturday morning, but returned with reinforcements.
They also were reported to have erected road blocks preventing entry to the town.
Youssef Shagan, spokesman for the rebels, said that Gaddafi's forces had earlier been defeated.
"They entered Zawiyah at six in the morning with heavy forces, hundreds of soldiers with tanks. Our people fought back ... We have won for now and civilians are gathering in the square."
Mr Shagan said that earlier on Saturday, Gaddafi forces had fired high explosive rounds in the centre of the town, 30 miles west of the capital Tripoli, and rebel forces had captured two tanks.
"We see many people, many residents fleeing. There is heavy fighting right now," said Mr Shagan.
Rebel forces still controlled pockets of the city and captured two tanks from the army in a shoot-out on Saturday morning, he said.
"They (Gaddafi's security forces) are attacking people, civilians. There is a lot of shooting. They are taking people from their homes. People are escaping to nearby villages."
He said many people had been killed.
Mr Shagan said the military had driven tanks and heavy weapons into the centre of the town, where people opposed to Gaddafi's 41-year rule have been fighting his forces for more than a week, and closed all the roads.
Arabic satellite channels said pro-Gaddafi forces had fired from tanks at residential areas.
"Now with all the artillery, tanks and armoured vehicles, we're seeing battles and killings we haven't seen in Iraq. I consider it total genocide," said one witness who spoke to Al Arabiya television.
The man said more than 15 armoured vehicles and a tank had entered the town. Mosques have announced 'jihad' (struggle) against them, the man told Al Arabiya.
The channel cited witnesses saying several members of Gaddafi's forces had surrendered and said the rebels had blocked an attack by people they said were pro-Gaddafi mercenaries.
One witness told al-Arabiya he saw the corpses of members of the security forces killed in a battle in the central square.
"My own eyes saw the bodies of seven dead who have been brought in from the square and four others have been imprisoned."